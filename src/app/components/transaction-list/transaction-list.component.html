<div class="transaction-list">
  <div class="filters">
    <a class="filter-type" [ngClass]="{'selected': filter === 'all'}" (click)="setFilter('all')">All</a>
    <a class="filter-type" [ngClass]="{'selected': filter === 'sent'}" (click)="setFilter('sent')">Sent</a>
    <a class="filter-type" [ngClass]="{'selected': filter === 'received'}" (click)="setFilter('received')">Received</a>
  </div>

  <ng-container *ngIf="transactions?.length; else loading">
    <div *ngFor="let transaction of filteredTransactions | paginate: { itemsPerPage: 5, currentPage: p }; let i = index" class="transactions">
      <div class="transaction">
        <div class="value selectableText">
          {{ transaction.value | showEther }}
          <span class="unit-badge">AKA</span>
          <div *ngIf="transaction.blockHash === ''">Pending</div>
        </div>
        <div class="timestamp">
          {{ transaction.timestamp | date:'long' }}
        </div>
      </div>
      <div *ngIf="transaction.from.toUpperCase() === wallet.address.toUpperCase(); else fromAddress" class="address">
        <div class="to">To</div>
        <div class="toAddress selectableText">{{ transaction.to }}</div>
      </div>
      <ng-template #fromAddress>
        <div class="address">
          <div class="from">From</div>
          <div class="fromAddress selectableText">{{ transaction.from }}</div>
        </div>
      </ng-template>
    </div>
    <pagination-controls (pageChange)="p = $event"></pagination-controls>
  </ng-container>
</div>

<!-- loading animation -->
<ng-template #loading>
  <div id="loading">
    <img id="loading-img" src="./assets/images/akroma-loading.png" alt="loading">
    <p>Transaction Sync in Progress...</p>
  </div>
</ng-template>